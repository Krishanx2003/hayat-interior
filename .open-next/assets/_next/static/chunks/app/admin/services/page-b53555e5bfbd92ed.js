(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{8043:(e,t,l)=>{Promise.resolve().then(l.bind(l,9616))},9616:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var a=l(5155),s=l(2115);function r(){let[e,t]=(0,s.useState)("service"),[l,r]=(0,s.useState)(null),[n,c]=(0,s.useState)(""),[d,i]=(0,s.useState)(""),[o,u]=(0,s.useState)(""),[p,x]=(0,s.useState)(!1),[m,b]=(0,s.useState)(null),h=async t=>{if(t.preventDefault(),b(null),!l||!n||!d)return void b({text:"Please fill all required fields.",type:"error"});let a=new FormData;a.append("type",e),a.append("file",l),a.append("title",n),a.append("description",d),"service"===e&&a.append("alt",o);try{x(!0);let t=await fetch("/api/services",{method:"POST",body:a}),l=await t.json();if(!t.ok)throw Error(l.error||"Upload failed");b({text:"".concat(e," uploaded successfully ✅"),type:"success"}),r(null),c(""),i(""),u("")}catch(e){e instanceof Error?b({text:e.message,type:"error"}):b({text:"An unknown error occurred.",type:"error"})}finally{x(!1)}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDEE0 Admin Panel — Upload"}),(0,a.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>t("service"),className:"px-4 py-2 rounded-lg border ".concat("service"===e?"bg-blue-600 text-white":"bg-white text-gray-700"),children:"Service"}),(0,a.jsx)("button",{type:"button",onClick:()=>t("renovation"),className:"px-4 py-2 rounded-lg border ".concat("renovation"===e?"bg-blue-600 text-white":"bg-white text-gray-700"),children:"Renovation"})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Image *"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return r((null==(t=e.target.files)?void 0:t[0])||null)},className:"w-full border rounded-lg p-2"}),l&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title *"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-full border rounded-lg p-2",placeholder:"Enter title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:d,onChange:e=>i(e.target.value),className:"w-full border rounded-lg p-2",placeholder:"Enter description",rows:3})]}),"service"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Alt Text"}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value),className:"w-full border rounded-lg p-2",placeholder:"Image alt text"})]}),(0,a.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Uploading...":"Upload ".concat(e)})]}),m&&(0,a.jsx)("div",{className:"mt-4 p-3 rounded-lg text-center ".concat("success"===m.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:m.text})]})}}},e=>{e.O(0,[441,493,358],()=>e(e.s=8043)),_N_E=e.O()}]);